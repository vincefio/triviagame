<!DOCTYPE html>
<html>
<head>
	<title>TriviaGame</title>
	<style>
		 .displayNone{
			display: none;
		}

		#startButton{
			width: 15%;
			height: 75px;
		}
	</style>
</head>

<link rel="stylesheet" type="text/css" href="assets/css/style.css">
<body>
	<h1>Rock n Roll Trivia</h1>

	<div id="startPage">
		<button type="button" id="startButton">Start</button>
	</div>


	<div id="quizScreen"></div>


	<div id="finishScreen"></div>




	<script>
		window.onload = function(){
			$('#startButton').click(countdown.start);
			
		};

		//an array of objects for the question
 		var questions = [
 			{
 			question:"Who released the song Heartbreak Hotel in 1956?",
	 			answers: [
	 				{
		 			option: "Chuck Berry",
		 			choice: "a"
		 			},
		 			{
		 			option: "Elvis Presley",
		 			choice: "correct"
		 			},
		 			{
		 			option: "Johnny Cash",
		 			choice: "c"
		 			},
		 			{
		 			option: "Bob Dylan",
		 			choice: "d"
		 			}
		 			]
	 			
 			
 			},
 			{
 			question:"In which year was The Rolling Stones first American Tour?",
 				answers: [
 					{
 					option: "1962",
 					choice: "a"
 					},
 					{
 			 		option: "1965",
 			 		choice: "b"
 			 		},
 			 		{
		 			option: "1967",
		 			choice: "c"
		 			},
		 			{
		 			option: "1964",
		 			choice: "correct"
		 			}

 		
 			]
 			},
 			{
 			question:"How was Bob Dylan recieved the first time he played electric guitar on stage?",
 				answers:[
 					{
		 			option: "Boo'd off stage",
		 			choice: "correct"
		 			},
		 			{
		 			option: "Standing ovation",
		 			choice: "b"
		 			},
		 			{
		 			option: "New record deal",
		 			choice: "c"
		 			},
		 			{
		 			option: "No spectacular response",
		 			choice: "d"
		 			}
 		
 				]
 			},
 			{
 			question:"What was Led Zeppelins debut album?",
 				answers: [
 					{
 					option: "Houses of The Holy",
 					choice: "a"
 					},
 					{
 					option: "Physical Graffitti",
 					choice: "b"
 					},
 					{
 					option: "Led Zeppelin I",
 					choice: "correct"
 					},
 					{
 					option: "Led Zeppelin IV",
 					choice: "d"
 					}
 				]
 			},
 			{
	 			question:"Which band did Jimmy Page, Eric Clapton, and Jeff Beck all play in?",
	 			answers:[
	 				{	
		 			option: "The Beatles",
		 			choice: "a"
		 			},
		 			{
		 			option: "The Yardbirds",
		 			choice: "correct"
		 			},
		 			{
		 			option: "The Eric Clapton Band",
		 			choice: "b"
		 			},
		 			{
		 			option: "The Tomahawks",
		 			choice: "d"
		 			}
	 			]
 			
 			},

 		];

		var intervalId;

		var clockRunning = false;

		var countdown = {

			time: 10,

			reset: function(){
				countdown.time = 30;

				$('#counter').html(countdown.time);
			},

			start: function(){
				
					if (!clockRunning) {
        				intervalId = setInterval(countdown.count, 1000);
       					clockRunning = true;
     				}

     				//Render the counter Screen
     				$('#quizScreen').prepend('<h3>Time Remaining: <span id="counter"></span> Seconds</h3>');
				
					//Render the questions
					// for(var i = 0; i < questions.length; i++){
					// 	var renderQuestions = '<h3>' + questions[i].question + '</h3><input type="radio" name="question' + [i] + '" value="">' + questions[i].answer1 + '</br> <input type="radio" name="question' + [i] + '" value="">' + questions[i].answer2 + '</br> <input type="radio" name="question' + [i] + '" value="">' + questions[i].answer3 + '</br> <input type="radio" name="question' + [i] + '" value="">' + questions[i].answer4 + '</br>';
					// 	$('#quizScreen').append(renderQuestions); 
					// }
						for(var i = 0; i < questions.length; i++){
						var renderQuestions = '<h3>' + questions[i].question + '</h3><input type="radio" name="question' + [i] + '" value="' + questions[i].answers[0].choice + '">' + questions[i].answers[0].option + '</br> <input type="radio" name="question' + [i] + '" value="' + questions[i].answers[1].choice + '">' + questions[i].answers[1].option + '</br> <input type="radio" name="question' + [i] + '" value="' + questions[i].answers[2].choice + '">' + questions[i].answers[2].option + '</br> <input type="radio" name="question' + [i] + '" value="' + questions[i].answers[3].choice + '">' + questions[i].answers[3].option + '</br>';
						$('#quizScreen').append(renderQuestions); 
					}
			},

			count: function(){
				if(countdown.time == 1){
					countdown.stop();
				}
				countdown.time--;

				$('#counter').html(countdown.time);
			},

			stop: function(){
				clearInterval(intervalId);
				clockRunning = false;

				$('#quizScreen').addClass('displayNone');

				var correctAnswers = 0;
				var incorrectAnswers = 0;
				var unansweredQuestions = 0;

				for(var i = 0; i < questions.length; i++){
					var buttons = $('[name="question' + i + '"]');

					var  hasCheck = false;

					for(var j = 0; j < buttons.length; j++){

						if(buttons[j].checked){
							hasCheck = true;

							if($(buttons[j]).attr("value") == "correct"){
								correctAnswers++;
							}
							else{
								incorrectAnswers++;
							}
						}
					}

					if(!hasCheck){
						unansweredQuestions++;
					}

					// console.log(buttons);


					// if($('input[type=radio]:checked').val)
				}
				console.log(correctAnswers);

				var renderScore = '<h2>All Done!</h2><br><h3>Correct Answers: ' + correctAnswers + '<h3>Incorrect Answers: ' + incorrectAnswers + '<h3>Unanswered: ' + unansweredQuestions + '</h3';
				$('#finishScreen').append(renderScore);

			
			}



		}

	</script>

	 <!-- jQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.js"></script>
</body>
</html>